<!doctype html><html lang=de-de><head><meta charset=utf-8><meta name=description content="Neue Benutzer können in der Azure SQL Datanbank leider nicht über die Benutzeroberfläche angelegt werden. Mit einem kleinen T-SQL Script klappt die Anlage aber trotzdem."><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=icon href=/images/icon.ico><link rel=stylesheet href=https://www.qualitybytes.de/css/syntax.css><link rel=stylesheet href=https://www.qualitybytes.de/css/plugins/plugins.min.88aa08671a8bcccd073dcaf8048526d9ec8cdb513aea873d1ecf2a50fc8f047b.css><link rel=stylesheet href=https://www.qualitybytes.de/revolution/css/revolutionbundle.min.1e5b3290ace1321f3ec54f53470f3bfb9e64508d4d7ed249e8778e854b2ec73e.css><link rel=stylesheet href=https://www.qualitybytes.de/css/sitebundle.min.bc4e165dd9de1da1d9cff419493db5ffdb47afe47a3feec7af1d356f8cb72104.css><title>Benutzer in Azure SQL DB anlegen | Quality Bytes GmbH</title><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="Quality Bytes GmbH Homepage"><meta name=twitter:title content="Benutzer in Azure SQL DB anlegen"><meta name=twitter:description content="Neue Benutzer können in der Azure SQL Datanbank leider nicht über die Benutzeroberfläche angelegt werden. Mit einem kleinen T-SQL Script klappt die Anlage aber trotzdem."><meta name=twitter:image content="https://qualitybytes.de/images/schreibtisch-leer-quality-bytes.jpg"><meta name=twitter:image:alt content="Quality Bytes GmbH"><meta property="og:url" content="/blog/benutzer-in-azure-sql-db-anlegen/"><meta property="og:type" content="page"><meta property="og:title" content="Benutzer in Azure SQL DB anlegen"><meta property="og:description" content="Neue Benutzer können in der Azure SQL Datanbank leider nicht über die Benutzeroberfläche angelegt werden. Mit einem kleinen T-SQL Script klappt die Anlage aber trotzdem."><meta property="og:image" content="https://qualitybytes.de/images/schreibtisch-leer-quality-bytes.jpg"><meta property="og:image:alt" content="Quality Bytes GmbH"></head><body><div id=preloader><div id=preloader-inner></div></div><nav class="navbar navbar-expand-lg navbar-light navbar-transparent bg-faded nav-sticky"><div class=container><button class="navbar-dark navbar-toggler navbar-toggler-right" type=button data-toggle=collapse data-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand style=margin-bottom:15px href=/><img class="logo logo-dark hidden-md-down" src=/images/logo.png alt="Quality Bytes Logo" width=250>
<img class="logo logo-light" src=/images/logo-light.png alt="Quality Bytes Logo" width=250></a><div id=navbarNavDropdown class="navbar-collapse collapse"><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/>Home</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false href=#>Software</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=/software class=dropdown-item>Software</a></li><li><a href=/software/dokumentenerzeugung/ class=dropdown-item>Dokumentenerzeugung</a></li><li><a href=/software/mobile-apps/ class=dropdown-item>Mobile Apps</a></li><li><a href=/software/web-apps/ class=dropdown-item>Web Apps</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false href=#>Über</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=/ueber/ class=dropdown-item>Über</a></li><li><a href=/ueber/team/ class=dropdown-item>Team</a></li></ul></li><li class=nav-item><a class=nav-link href=/jobs/>Jobs</a></li><li class=nav-item><a class=nav-link href=/blog/>Blog</a></li><li class=nav-item><a class=nav-link href=/kontakt/>Kontakt</a></li></ul></div></div></nav><div class="page-titles-img title-space-lg bg-parallax parallax-overlay mb70" data-jarallax='{"speed": 0.2}' style=background-image:url(/images/schreibtisch-leer-quality-bytes.jpg)><div class=container><div class=row><div class="col-md-8 ml-auto mr-auto"><h1 class=text-uppercase>Benutzer in Azure SQL DB anlegen</h1></div></div></div></div><div class="container pb50"><div class=row><div class="col-md-9 mb40"><article><img src=/images/schreibtisch-leer-quality-bytes.jpg alt class="img-fluid mb30"><div class=post-content><h3>Benutzer in Azure SQL DB anlegen</h3><ul class="post-meta list-inline"><li class=list-inline-item><i class="fa fa-user-circle-o"></i><a href=https://www.qualitybytes.de/authors/andre-kraemer/>André Krämer</a></li><li class=list-inline-item><i class="fa fa-calendar-o"></i><a>20.07.2020</a></li><li class=list-inline-item><i class="fa fa-tags"></i><a href=https://www.qualitybytes.de/categories/azure>Azure</a></li><li class=list-inline-item><a>Lesezeit: 2 Minute/n</a></li></ul><p><p>Nach dem Anlegen einer Datenbank unter Microsoft Azure folgt als nächster Schritt in der Regel die Anlage eines Benutzer, der in der entsprechenden Datenkbank berechtigt werden soll.</p><p>Leider gibt es in der Weboberfläche des Azure Portals dazu aktuell keine direkte Möglichkeit. Dort kann lediglich der Administartions-Benutzer für den DB Server konfiguriert werden. Aus Sicherheitsgründen sollte dieser aber natürlich nicht der Benutzer sein, mit dem man später aus der eigenen Anwendung aus auf die Datenbank zugreift.</p><p>Bei einer lokalen SQL Server Installation würde man an dieser Stelle nun das SQL Server Management Studio öffnen und den Benutzer dort komfortabel über die Oberfläche anlegen. Versucht man dies bei einer Azure SQL DB, so muss man ernüchternd fesstellen, dass diese Oberfläche für Azure SQL Datenbanken nicht verfügbar ist.</p><h4 id=mit-t-sql-zum-ziel>Mit T-SQL zum Ziel</h4><p>Stattdessen muss man die Nutzeranlage mit T-SQL vornehmen. Dazu verbindet man sich mit einem beliebigen SQL Client, z. B. dem SQL Server Management Studio oder dem Azure Data Studio mit einem administrativen Benutzer dem entsprechenden Datenbankserver mit der Datenbank <code>master</code> und führt folgendes SQL Statement aus um einen Login anzulegen:</p><div class=highlight><pre class=chroma><code class=language-sql data-lang=sql><span class=k>CREATE</span> <span class=n>LOGIN</span> <span class=p>[</span><span class=n>MeinUser</span><span class=p>]</span> <span class=k>WITH</span> <span class=n>PASSWORD</span><span class=o>=</span><span class=n>N</span><span class=s1>&#39;Test!987&#39;</span>
<span class=k>GO</span>
</code></pre></div><p><code>MeinUser</code> und <code>Test!987</code> sind an dieser Stelle natürlich nur Platzhalter für den tatsächlichen Benutzernamen und das entsprechende Passwort.</p><p>Nach dem der Login nun auf dem Server bekannt ist, müssen wir im nächsten Schritt einen Benutzer für den Login in der Zieldatenbank (in der Regel nicht <code>master</code> anlegen). So einen Benutzer benötigen wir übrigens für jede Datenbank, auf die der Login Zugriff erhalten soll.</p><p>Zu diesem Zweck wechseln wir also zunächst in unserem SQL Client in die entsprechende Datenbank, z. B. über <code>use [MeineDatenbank]</code> und führen anschließend folgendes Statement aus.</p><div class=highlight><pre class=chroma><code class=language-sql data-lang=sql><span class=k>CREATE</span> <span class=k>USER</span> <span class=p>[</span><span class=n>MeinUser</span><span class=p>]</span> <span class=k>FOR</span> <span class=n>LOGIN</span> <span class=p>[</span><span class=n>MeinUser</span><span class=p>]</span>  <span class=k>WITH</span> <span class=n>DEFAULT_SCHEMA</span><span class=o>=</span><span class=p>[</span><span class=n>dbo</span><span class=p>]</span>
<span class=k>GO</span>
</code></pre></div><p>Zu guter letzt müssen wir dem Benutzer dann noch eine passende Rolle entsprechend der gewünschten Zugriffsrechte geben.</p><p>Soll der Benutzer z. B. Daten lesen und schreiben, Datenbankstrukturen aber nicht verändern können, dann wären die Gruppen <code>db_datareader</code> und <code>db_datawriter</code> passend.</p><div class=highlight><pre class=chroma><code class=language-sql data-lang=sql><span class=k>EXEC</span> <span class=n>sp_addrolemember</span> <span class=s1>&#39;db_datareader&#39;</span><span class=p>,</span> <span class=s1>&#39;MeinUser&#39;</span><span class=p>;</span>
<span class=k>EXEC</span> <span class=n>sp_addrolemember</span> <span class=s1>&#39;db_datawriter&#39;</span><span class=p>,</span> <span class=s1>&#39;MeinUser&#39;</span><span class=p>;</span>
<span class=k>GO</span>
</code></pre></div></p><hr class=mb40><h4 class="mb40 text-uppercase font500">Über den Autor</h4><div class="media mb40"><div class=flexContainer><div class=flex-35><img class=aboutAuthor src=/images/team/andre_kraemer.jpg></div><div class=flex-65><h5 class="mt-0 font700"><a href=https://www.qualitybytes.de/authors/andre-kraemer/>André Krämer</a></h5><p>Dipl.-Inform. (FH) André Krämer, Msc. ist Geschäftsführer der Quality Bytes GmbH. Der <a href="https://mvp.microsoft.com/de-de/PublicProfile/5000163?fullName=Andre%20Kraemer">mehrfache Microsoft MVP</a> ist seit 1997 in der Softwareentwicklung tätig und hat sich 2002 auf die Entwicklung mit Microsoft .NET spezialisiert.</p><p>Seine Schwerpunkte sind Xamarin, ASP.NET, Angular, Azure DevOps, TX Text Control und die Analyse von Memory Leaks und Performance Problemen.</p><p>Er ist regelmäßiger Autor für <a href=https://www.linkedin.com/learning/instructors/andre-kramer>linkedIn Learning</a>, wo er bereits mehr als 25 Videotrainings veröffentlicht hat.</p></div></div></div></article></div><div class="col-md-3 mb40"><div class=mb40><h4 class=sidebar-title>Kategorien</h4><ul class="list-unstyled categories"><li><a href=https://www.qualitybytes.de/categories/azure/>Azure</a></li><li><a href=https://www.qualitybytes.de/categories/.net/>.NET</a></li><li><a href=https://www.qualitybytes.de/categories/angular/>Angular</a></li><li><a href=https://www.qualitybytes.de/categories/asp-.net-core/>ASP .NET Core</a></li><li><a href=https://www.qualitybytes.de/categories/xamarin/>Xamarin</a></li></ul></div><div><h4 class=sidebar-title>Letzte Posts</h4><ul class=list-unstyled><li class=media><img class="d-flex mr-3 img-fluid" width=64 src=/images/schreibtisch-leer-quality-bytes.jpg alt="Generic placeholder image"><div class=media-body><h5 class="mt-0 mb-1"><a href=/blog/benutzer-in-azure-sql-db-anlegen/>Benutzer in Azure SQL DB anlegen</a></h5>29 June 2017<p>Nach dem Anlegen einer Datenbank unter M [...]</p></div></li><li class=media><img class="d-flex mr-3 img-fluid" width=64 src=/images/schreibtisch-leer-quality-bytes.jpg alt="Generic placeholder image"><div class=media-body><h5 class="mt-0 mb-1"><a href=/blog/verstaerkung-bei-der-quality-bytes-gmbh-in-sinzig-gesucht-softwareentwickler-dotnet-softwareentwickler-angular-xamarin-asp-dotnet-core/>Verstärkung als Softwareentwickler .NET, Frontend-Developer Angular, Xamarin Developer oder ASP.NET Core Entwickler gesucht</a></h5>29 June 2017<p>Das könnte dein neuer Schreibtisch sein [...]</p></div></li></ul></div></div></div></div></div></div><footer class="footer footer-dark pt50 pb30"><div class=container><div class=row><div class="col-lg-3 col-md-6 mb40"><h3>Über uns</h3><p>Die Quality Bytes GmbH erstellt hochwertige Softwarelösungen für mobile Endgeräte und die Cloud.</p></div><div class="col-lg-3 col-md-6 mb40"><h3>Links</h3><ul class="list-unstyled footer-list-item"><li><a href=/>Home<br></a></li><li><a href=/software>Software<br></a></li><li><a href=/ueber/>Über<br></a></li><li><a href=/jobs/>Jobs<br></a></li><li><a href=/blog/>Blog<br></a></li><li><a href=/kontakt/>Kontakt<br></a></li></ul></div><div class="col-lg-3 col-md-6 mb40"><h3>Kontakt</h3><ul class="list-unstyled contact-list-item"><li><i class=ti-home></i>Brunnenstraße 21, 53498 Bad Breisig</li><li><i class="fa fa-envelope-o"></i>info@qualitybytes.de</li><li><i class="fa fa-phone"></i>+49 2633 48 99 430</li></ul></div></div></div></footer><div class=footer-bottomAlt><div class=container><div class=row><div class=col-lg-7><div class=clearfix><a href=/datenschutz/>Datenschutz</a> -
<a href=/impressum/>Impressum</a> -
<a href=/haftungsausschluss/>Haftungsausschluss</a></div></div><div class=col-lg-5><span>&copy; Copyright 2018. Quality Bytes GmbH</span></div></div></div></div><a href=# class="back-to-top hidden-xs-down" id=back-to-top><i class=ti-angle-up></i></a><script src=/js/plugins/plugins.js></script><script src=/js/assan.custom.js></script></body></html>
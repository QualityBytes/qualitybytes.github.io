<!doctype html><html lang=de-de><head><meta charset=utf-8><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=icon href=/images/icon.ico><link rel=stylesheet href=https://qualitybytes.de/css/syntax.css><link rel=stylesheet href=https://qualitybytes.de/css/plugins/plugins.min.88aa08671a8bcccd073dcaf8048526d9ec8cdb513aea873d1ecf2a50fc8f047b.css><link rel=stylesheet href=https://qualitybytes.de/revolution/css/revolutionbundle.min.1e5b3290ace1321f3ec54f53470f3bfb9e64508d4d7ed249e8778e854b2ec73e.css><link rel=stylesheet href=https://qualitybytes.de/css/sitebundle.min.852ea133faa29d3bd8d6a037ab34850fd0eda9c4d44208b25dde5c3014c3e021.css><title>Azure | Quality Bytes GmbH</title><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="Quality Bytes GmbH Homepage"><meta name=twitter:title content="Azure"><meta name=twitter:description content><meta name=twitter:image content="https://qualitybytes.de/images/bgueber.jpg"><meta name=twitter:image:alt content="Quality Bytes GmbH"><meta property="og:url" content="/categories/azure/"><meta property="og:type" content="page"><meta property="og:title" content="Azure"><meta property="og:description" content><meta property="og:image" content="https://qualitybytes.de/images/bgueber.jpg"><meta property="og:image:alt" content="Quality Bytes GmbH"></head><body><div id=preloader><div id=preloader-inner></div></div><nav class="navbar navbar-expand-lg navbar-light navbar-transparent bg-faded nav-sticky"><div class=container><button class="navbar-dark navbar-toggler navbar-toggler-right" type=button data-toggle=collapse data-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand style=margin-bottom:15px href=/><img class="logo logo-dark hidden-md-down" src=/images/logo.png alt="Quality Bytes Logo" width=250>
<img class="logo logo-light" src=/images/logo-light.png alt="Quality Bytes Logo" width=250></a><div id=navbarNavDropdown class="navbar-collapse collapse"><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link custom-nav-color" href=/>Home</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle custom-nav-color" data-toggle=dropdown aria-haspopup=true aria-expanded=false href=#>Software</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=/software class=dropdown-item>Software</a></li><li><a href=/software/dokumentenerzeugung/ class=dropdown-item>Dokumentenerzeugung</a></li><li><a href=/software/mobile-apps/ class=dropdown-item>Mobile Apps</a></li><li><a href=/software/web-apps/ class=dropdown-item>Web Apps</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle custom-nav-color" data-toggle=dropdown aria-haspopup=true aria-expanded=false href=#>Über</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=/ueber/ class=dropdown-item>Über</a></li><li><a href=/ueber/team/ class=dropdown-item>Team</a></li></ul></li><li class=nav-item><a class="nav-link custom-nav-color" href=/jobs/>Jobs</a></li><li class=nav-item><a class="nav-link custom-nav-color" href=/blog/>Blog</a></li><li class=nav-item><a class="nav-link custom-nav-color" href=/kontakt/>Kontakt</a></li></ul></div></div><button class="btn btn-dark btn-sm" onclick="location.href='https://qualitybytes.de/en/categories/azure/'">en</button></nav><body class="mt-5 mb-5"></body><div class=container><h3 style=text-align:center>Azure</h3><hr><h1><a href=https://qualitybytes.de/blog/benutzer-in-azure-sql-db-anlegen/>Benutzer in Azure SQL DB anlegen</a></h1><p>Nach dem Anlegen einer Datenbank unter Microsoft Azure folgt als nächster Schritt in der Regel die Anlage eines Benutzer, der in der entsprechenden Datenkbank berechtigt werden soll.</p><p>Leider gibt es in der Weboberfläche des Azure Portals dazu aktuell keine direkte Möglichkeit. Dort kann lediglich der Administartions-Benutzer für den DB Server konfiguriert werden. Aus Sicherheitsgründen sollte dieser aber natürlich nicht der Benutzer sein, mit dem man später aus der eigenen Anwendung aus auf die Datenbank zugreift.</p><p>Bei einer lokalen SQL Server Installation würde man an dieser Stelle nun das SQL Server Management Studio öffnen und den Benutzer dort komfortabel über die Oberfläche anlegen. Versucht man dies bei einer Azure SQL DB, so muss man ernüchternd fesstellen, dass diese Oberfläche für Azure SQL Datenbanken nicht verfügbar ist.</p><h4 id=mit-t-sql-zum-ziel>Mit T-SQL zum Ziel</h4><p>Stattdessen muss man die Nutzeranlage mit T-SQL vornehmen. Dazu verbindet man sich mit einem beliebigen SQL Client, z. B. dem SQL Server Management Studio oder dem Azure Data Studio mit einem administrativen Benutzer dem entsprechenden Datenbankserver mit der Datenbank <code>master</code> und führt folgendes SQL Statement aus um einen Login anzulegen:</p><div class=highlight><pre class=chroma><code class=language-sql data-lang=sql><span class=k>CREATE</span> <span class=n>LOGIN</span> <span class=p>[</span><span class=n>MeinUser</span><span class=p>]</span> <span class=k>WITH</span> <span class=n>PASSWORD</span><span class=o>=</span><span class=n>N</span><span class=s1>&#39;Test!987&#39;</span>
<span class=k>GO</span>
</code></pre></div><p><code>MeinUser</code> und <code>Test!987</code> sind an dieser Stelle natürlich nur Platzhalter für den tatsächlichen Benutzernamen und das entsprechende Passwort.</p><p>Nach dem der Login nun auf dem Server bekannt ist, müssen wir im nächsten Schritt einen Benutzer für den Login in der Zieldatenbank (in der Regel nicht <code>master</code> anlegen). So einen Benutzer benötigen wir übrigens für jede Datenbank, auf die der Login Zugriff erhalten soll.</p><p>Zu diesem Zweck wechseln wir also zunächst in unserem SQL Client in die entsprechende Datenbank, z. B. über <code>use [MeineDatenbank]</code> und führen anschließend folgendes Statement aus.</p><div class=highlight><pre class=chroma><code class=language-sql data-lang=sql><span class=k>CREATE</span> <span class=k>USER</span> <span class=p>[</span><span class=n>MeinUser</span><span class=p>]</span> <span class=k>FOR</span> <span class=n>LOGIN</span> <span class=p>[</span><span class=n>MeinUser</span><span class=p>]</span>  <span class=k>WITH</span> <span class=n>DEFAULT_SCHEMA</span><span class=o>=</span><span class=p>[</span><span class=n>dbo</span><span class=p>]</span>
<span class=k>GO</span>
</code></pre></div><p>Zu guter letzt müssen wir dem Benutzer dann noch eine passende Rolle entsprechend der gewünschten Zugriffsrechte geben.</p><p>Soll der Benutzer z. B. Daten lesen und schreiben, Datenbankstrukturen aber nicht verändern können, dann wären die Gruppen <code>db_datareader</code> und <code>db_datawriter</code> passend.</p><div class=highlight><pre class=chroma><code class=language-sql data-lang=sql><span class=k>EXEC</span> <span class=n>sp_addrolemember</span> <span class=s1>&#39;db_datareader&#39;</span><span class=p>,</span> <span class=s1>&#39;MeinUser&#39;</span><span class=p>;</span>
<span class=k>EXEC</span> <span class=n>sp_addrolemember</span> <span class=s1>&#39;db_datawriter&#39;</span><span class=p>,</span> <span class=s1>&#39;MeinUser&#39;</span><span class=p>;</span>
<span class=k>GO</span>
</code></pre></div><br><hr></div></body><footer class="footer footer-dark pt50 pb30"><div class=container><div class=row><div class="col-lg-3 col-md-6 mb40"><h3>Über uns</h3><p>Die Quality Bytes GmbH erstellt hochwertige Softwarelösungen für mobile Endgeräte und die Cloud.</p></div><div class="col-lg-3 col-md-6 mb40"><h3>Links</h3><ul class="list-unstyled footer-list-item"><li><a href=/>Home<br></a></li><li><a href=/software>Software<br></a></li><li><a href=/ueber/>Über<br></a></li><li><a href=/jobs/>Jobs<br></a></li><li><a href=/blog/>Blog<br></a></li><li><a href=/kontakt/>Kontakt<br></a></li></ul></div><div class="col-lg-3 col-md-6 mb40"><h3>Kontakt</h3><ul class="list-unstyled contact-list-item"><li><i class=ti-home></i>Brunnenstraße 21, 53498 Bad Breisig</li><li><i class="fa fa-envelope-o"></i>info@qualitybytes.de</li><li><i class="fa fa-phone"></i>+49 2633 48 99 430</li></ul></div></div></div></footer><div class=footer-bottomAlt><div class=container><div class=row><div class=col-lg-7><div class=clearfix><a href=/datenschutz/>Datenschutz</a> -
<a href=/impressum/>Impressum</a> -
<a href=/haftungsausschluss/>Haftungsausschluss</a></div></div><div class=col-lg-5><span>&copy; Copyright 2018. Quality Bytes GmbH</span></div></div></div></div><a href=# class="back-to-top hidden-xs-down" id=back-to-top><i class=ti-angle-up></i></a><script src=/js/plugins/plugins.js></script><script src=/js/assan.custom.js></script>